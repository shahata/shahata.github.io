{"version":3,"file":"scripts.js","sources":["../concat/scripts/scripts.js"],"names":["hasPossibility","value","cell","possibilities","indexOf","hasValue","angular","module","config","e","run","$templateCache","put","TABLE_WIDTH","BOX_WIDTH","BOX_HEIGHT","Cell","this","Object","defineProperty","prototype","get","_value","set","enumerable","configurable","MainController","$timeout","c","v","code","cells","i","row","j","push","$inject","generateCode","border","index","size","pad","max","fill","s","replace","slice","length","map","rowIndex","colIndex","join","getStyle","side","getBox","arr","concat","getRow","getCol","getAll","reduce","prev","curr","someUnsolvedCell","f","some","forEachUnsolvedCell","forEach","isInRow","filter","isInCol","isInBox","otherOptionInRow","otherOptionInCol","otherOptionInBox","getPossibleValues","otherOptionInTable","solveByOnlyPossibility","solveByNoOtherOptionInTable","_this","values","solve","alert","controller"],"mappings":"AACA,YAkEA,SAASA,gBAAeC,GACpB,MAAO,UAAUC,GAAQ,MAAOA,GAAKC,cAAcC,QAAQH,GAAS,IAExE,QAASI,UAASJ,GACd,MAAO,UAAUC,GAAQ,MAAOA,GAAKD,QAAUA,GAnEnDK,QACKC,OAAO,wBAIZD,QACKC,OAAO,aAAc,oBAAqB,qBAAsB,gBAAiB,aAAc,kBAC/FC,OAAO,aAMZ,KACEF,QAAQC,OAAO,iBACf,MAAOE,GACPH,QAAQC,OAAO,oBAGjBD,QAAQC,OAAO,iBAAiBG,KAAK,iBAAkB,SAAUC,GAG/DA,EAAeC,IAAI,kBACjB,uwBAoBJ,IAAIC,aAAc,GACdC,UAAY,EACZC,WAAa,EACbC,KAAO,WACP,QAASA,GAAKf,GACVgB,KAAKhB,MAAQA,EAajB,MAXAiB,QAAOC,eAAeH,EAAKI,UAAW,SAClCC,IAAK,WACD,MAAOJ,MAAKK,QAEhBC,IAAK,SAAUtB,GACXgB,KAAKK,OAASrB,EACdgB,KAAKd,kBAETqB,YAAY,EACZC,cAAc,IAEXT,KAQPU,eAAiB,WAEjB,QAASA,GAAeC,GACpB,QAASC,GAAEC,GACP,MAAO,IAAIb,MAAKa,GAEpBZ,KAAKU,SAAWA,EAChBV,KAAKa,KAAO,oDACZb,KAAKc,QACL,KAAK,GAAIC,GAAI,EAAOnB,YAAJmB,EAAiBA,IAAK,CAElC,IAAK,GADDC,MACKC,EAAI,EAAOrB,YAAJqB,EAAiBA,IAC7BD,EAAIE,KAAKP,IAEbX,MAAKc,MAAMI,KAAKF,GAapBhB,KAAKc,QACAH,EAAE,IAAKA,EAAE,GAAIA,IAAKA,IAAKA,EAAE,IAAKA,IAAKA,EAAE,IAAKA,EAAE,GAAIA,IAAKA,EAAE,IAAKA,IAAKA,EAAE,GAAIA,IAAKA,IAAKA,IAAKA,MACtFA,EAAE,IAAKA,IAAKA,IAAKA,IAAKA,IAAKA,IAAKA,IAAKA,EAAE,GAAIA,IAAKA,IAAKA,EAAE,IAAKA,IAAKA,IAAKA,EAAE,GAAIA,IAAKA,MACjFA,EAAE,GAAIA,EAAE,IAAKA,EAAE,GAAIA,EAAE,GAAIA,IAAKA,IAAKA,IAAKA,IAAKA,IAAKA,EAAE,GAAIA,IAAKA,IAAKA,EAAE,IAAKA,IAAKA,EAAE,GAAIA,EAAE,MACtFA,IAAKA,IAAKA,EAAE,GAAIA,EAAE,IAAKA,IAAKA,EAAE,IAAKA,IAAKA,IAAKA,IAAKA,IAAKA,IAAKA,EAAE,IAAKA,IAAKA,EAAE,GAAIA,IAAKA,MACnFA,IAAKA,IAAKA,IAAKA,EAAE,IAAKA,EAAE,GAAIA,IAAKA,EAAE,GAAIA,IAAKA,EAAE,IAAKA,IAAKA,IAAKA,EAAE,IAAKA,EAAE,GAAIA,IAAKA,IAAKA,EAAE,KACtFA,EAAE,GAAIA,EAAE,GAAIA,EAAE,IAAKA,EAAE,GAAIA,IAAKA,IAAKA,EAAE,GAAIA,IAAKA,IAAKA,IAAKA,IAAKA,EAAE,GAAIA,EAAE,GAAIA,IAAKA,IAAKA,EAAE,MACrFA,EAAE,GAAIA,IAAKA,IAAKA,IAAKA,IAAKA,EAAE,IAAKA,EAAE,GAAIA,EAAE,IAAKA,IAAKA,EAAE,GAAIA,IAAKA,IAAKA,IAAKA,IAAKA,EAAE,IAAKA,MACpFA,EAAE,GAAIA,IAAKA,IAAKA,IAAKA,EAAE,IAAKA,EAAE,GAAIA,IAAKA,EAAE,GAAIA,IAAKA,IAAKA,IAAKA,IAAKA,EAAE,IAAKA,EAAE,IAAKA,IAAKA,EAAE,KACtFA,EAAE,IAAKA,IAAKA,EAAE,GAAIA,EAAE,GAAIA,IAAKA,IAAKA,IAAKA,IAAKA,EAAE,GAAIA,IAAKA,EAAE,GAAIA,EAAE,IAAKA,IAAKA,IAAKA,IAAKA,EAAE,MACrFA,IAAKA,EAAE,GAAIA,IAAKA,IAAKA,IAAKA,IAAKA,EAAE,GAAIA,IAAKA,EAAE,IAAKA,EAAE,GAAIA,EAAE,IAAKA,IAAKA,IAAKA,IAAKA,IAAKA,EAAE,MACpFA,EAAE,GAAIA,IAAKA,IAAKA,EAAE,GAAIA,EAAE,IAAKA,IAAKA,IAAKA,IAAKA,IAAKA,EAAE,GAAIA,IAAKA,IAAKA,EAAE,GAAIA,EAAE,GAAIA,EAAE,GAAIA,EAAE,MACrFA,EAAE,GAAIA,IAAKA,IAAKA,EAAE,IAAKA,EAAE,GAAIA,IAAKA,IAAKA,EAAE,GAAIA,IAAKA,EAAE,IAAKA,IAAKA,EAAE,GAAIA,EAAE,IAAKA,IAAKA,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","sourcesContent":["/// <reference path=\"reference.ts\" />\n'use strict';\n//add services, directives, controllers, filters, etc. in this module\n//avoid adding module dependencies for this module\nangular\n    .module('sodukuAppInternal', []);\n//add module dependencies & config and run blocks in this module\n//load only the internal module in tests and mock any module dependency\n//the only exception to load this module in tests in to test the config & run blocks\nangular\n    .module('sodukuApp', ['sodukuAppInternal', 'sodukuTranslations', 'sodukuPreload', 'wixAngular', 'wix.common.bi'])\n    .config(function () {\n    return;\n});\n\n'use strict';\n\ntry {\n  angular.module('sodukuPreload');\n} catch (e) {\n  angular.module('sodukuPreload', []);\n}\n\nangular.module('sodukuPreload').run(['$templateCache', function ($templateCache) {\n  'use strict';\n\n  $templateCache.put('views/main.html',\n    \"<div class='main' ng-controller='MainController as main'>\\n\" +\n    \"  <button ng-click='main.solve(true)'>solve!</button>\\n\" +\n    \"  <input id='showPossibilities' ng-model='main.showPossibilities' type='checkbox'>\\n\" +\n    \"  <label for='showPossibilities'>show possibilities</label>\\n\" +\n    \"  <input id='showCode' ng-model='main.showCode' type='checkbox'>\\n\" +\n    \"  <label for='showPossibilities'>show code</label>\\n\" +\n    \"  <table>\\n\" +\n    \"    <tr ng-init='rowScope = this' ng-repeat='row in main.cells'>\\n\" +\n    \"      <td ng-repeat='cell in row' style='{{main.getStyle(rowScope.$index, $index)}}'>\\n\" +\n    \"        <input ng-model='cell.value' style='width: 30px' type='number'>\\n\" +\n    \"        {{main.showPossibilities ? cell.possibilities : ''}}\\n\" +\n    \"      </td>\\n\" +\n    \"    </tr>\\n\" +\n    \"  </table>\\n\" +\n    \"  <pre>{{main.showCode ? main.code : ''}}</pre>\\n\" +\n    \"</div>\\n\"\n  );\n}]);\n/// <reference path=\"../reference.ts\" />\n'use strict';\nvar TABLE_WIDTH = 16;\nvar BOX_WIDTH = 4;\nvar BOX_HEIGHT = 4;\nvar Cell = (function () {\n    function Cell(value) {\n        this.value = value;\n    }\n    Object.defineProperty(Cell.prototype, \"value\", {\n        get: function () {\n            return this._value;\n        },\n        set: function (value) {\n            this._value = value;\n            this.possibilities = [];\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return Cell;\n})();\nfunction hasPossibility(value) {\n    return function (cell) { return cell.possibilities.indexOf(value) > -1; };\n}\nfunction hasValue(value) {\n    return function (cell) { return cell.value === value; };\n}\nvar MainController = (function () {\n    /* @ngInject */\n    function MainController($timeout) {\n        function c(v) {\n            return new Cell(v);\n        }\n        this.$timeout = $timeout;\n        this.code = 'code is generated when you click the solve button';\n        this.cells = [];\n        for (var i = 0; i < TABLE_WIDTH; i++) {\n            var row = [];\n            for (var j = 0; j < TABLE_WIDTH; j++) {\n                row.push(c());\n            }\n            this.cells.push(row);\n        }\n        // this.cells = [\n        //   [c( ), c(8), c(1), /**/ c( ), c(5), c( ), /**/ c( ), c(6), c( )],\n        //   [c( ), c(3), c( ), /**/ c( ), c( ), c(1), /**/ c(5), c(4), c( )],\n        //   [c( ), c( ), c( ), /**/ c( ), c(2), c( ), /**/ c( ), c( ), c( )],\n        //   [c( ), c( ), c( ), /**/ c(5), c(9), c( ), /**/ c( ), c( ), c(6)],\n        //   [c(9), c(4), c( ), /**/ c( ), c( ), c( ), /**/ c( ), c(8), c(3)],\n        //   [c(2), c( ), c( ), /**/ c( ), c(1), c(3), /**/ c( ), c( ), c(4)],\n        //   [c( ), c( ), c( ), /**/ c( ), c(6), c( ), /**/ c( ), c( ), c( )],\n        //   [c( ), c( ), c(9), /**/ c(1), c( ), c( ), /**/ c( ), c(7), c( )],\n        //   [c( ), c(5), c( ), /**/ c( ), c(3), c( ), /**/ c(8), c(9), c( )]\n        // ];\n        this.cells = [\n            [c(13), c(5), c(), c(), c(10), c(), c(11), c(3), c(), c(15), c(), c(8), c(), c(), c(), c()],\n            [c(16), c(), c(), c(), c(), c(), c(), c(9), c(), c(), c(13), c(), c(), c(6), c(), c()],\n            [c(8), c(11), c(3), c(2), c(), c(), c(), c(), c(), c(5), c(), c(), c(13), c(), c(4), c(14)],\n            [c(), c(), c(6), c(10), c(), c(15), c(), c(), c(), c(), c(), c(14), c(), c(2), c(), c()],\n            [c(), c(), c(), c(12), c(6), c(), c(1), c(), c(13), c(), c(), c(11), c(7), c(), c(), c(9)],\n            [c(6), c(2), c(16), c(1), c(), c(), c(5), c(), c(), c(), c(), c(9), c(3), c(), c(), c(15)],\n            [c(3), c(), c(), c(), c(), c(12), c(2), c(14), c(), c(6), c(), c(), c(), c(), c(16), c()],\n            [c(7), c(), c(), c(), c(11), c(3), c(), c(8), c(), c(), c(), c(), c(14), c(10), c(), c(2)],\n            [c(15), c(), c(2), c(5), c(), c(), c(), c(), c(9), c(), c(7), c(13), c(), c(), c(), c(10)],\n            [c(), c(4), c(), c(), c(), c(), c(6), c(), c(12), c(1), c(14), c(), c(), c(), c(), c(13)],\n            [c(1), c(), c(), c(7), c(16), c(), c(), c(), c(), c(8), c(), c(), c(6), c(4), c(5), c(12)],\n            [c(9), c(), c(), c(13), c(2), c(), c(), c(7), c(), c(11), c(), c(4), c(16), c(), c(), c()],\n            [c(), c(), c(1), c(), c(5), c(), c(), c(), c(), c(), c(12), c(), c(11), c(8), c(), c()],\n            [c(2), c(12), c(), c(11), c(), c(), c(14), c(), c(), c(), c(), c(), c(15), c(1), c(13), c(6)],\n            [c(), c(), c(9), c(), c(), c(8), c(), c(), c(6), c(), c(), c(), c(), c(), c(), c(16)],\n            [c(), c(), c(), c(), c(15), c(), c(4), c(), c(8), c(14), c(), c(7), c(), c(), c(9), c(5)]\n        ];\n    }\n    MainController.$inject = [\"$timeout\"];\n    MainController.prototype.generateCode = function () {\n        function border(index, size, value) {\n            return index > 0 && index % size === 0 ? value : '';\n        }\n        function pad(value, max, fill) {\n            var s = (value || '') + '';\n            return (max + '').replace(/./g, fill).slice(s.length) + s;\n        }\n        return 'this.cells = [\\n' + this.cells.map(function (row, rowIndex) {\n            return border(rowIndex, BOX_HEIGHT, '\\n') +\n                '  [' + row.map(function (cell, colIndex) {\n                return border(colIndex, BOX_WIDTH, '/**/ ') + \"c(\" + pad(cell.value, TABLE_WIDTH, ' ') + \")\";\n            }).join(', ') + ']';\n        }).join(',\\n') + '\\n];\\n\\n';\n    };\n    MainController.prototype.getStyle = function (rowIndex, colIndex) {\n        function border(side) {\n            return \"border-\" + side + \": solid black 1px; \";\n        }\n        return (rowIndex % BOX_HEIGHT === 0 ? border('top') : '') +\n            (rowIndex % BOX_HEIGHT === BOX_HEIGHT - 1 ? border('bottom') : '') +\n            (colIndex % BOX_WIDTH === 0 ? border('left') : '') +\n            (colIndex % BOX_WIDTH === BOX_WIDTH - 1 ? border('right') : '');\n    };\n    MainController.prototype.getBox = function (rowIndex, colIndex) {\n        var arr = [];\n        rowIndex -= rowIndex % BOX_HEIGHT;\n        colIndex -= colIndex % BOX_WIDTH;\n        for (var i = 0; i < BOX_HEIGHT; i++) {\n            arr = arr.concat(this.cells[rowIndex + i].slice(colIndex, colIndex + BOX_WIDTH));\n        }\n        return arr;\n    };\n    MainController.prototype.getRow = function (rowIndex) {\n        return this.cells[rowIndex];\n    };\n    MainController.prototype.getCol = function (colIndex) {\n        return this.cells.map(function (row) { return row[colIndex]; });\n    };\n    MainController.prototype.getAll = function () {\n        return this.cells.reduce(function (prev, curr) {\n            return prev.concat(curr);\n        }, []);\n    };\n    MainController.prototype.someUnsolvedCell = function (f) {\n        return this.cells.some(function (row, rowIndex) {\n            return row.some(function (cell, colIndex) {\n                return !cell.value && f(cell, rowIndex, colIndex);\n            });\n        });\n    };\n    MainController.prototype.forEachUnsolvedCell = function (f) {\n        this.cells.forEach(function (row, rowIndex) {\n            row.forEach(function (cell, colIndex) {\n                if (!cell.value) {\n                    f(cell, rowIndex, colIndex);\n                }\n            });\n        });\n    };\n    MainController.prototype.isInRow = function (rowIndex, value) {\n        return this.getRow(rowIndex).filter(hasValue(value)).length > 0;\n    };\n    MainController.prototype.isInCol = function (colIndex, value) {\n        return this.getCol(colIndex).filter(hasValue(value)).length > 0;\n    };\n    MainController.prototype.isInBox = function (rowIndex, colIndex, value) {\n        return this.getBox(rowIndex, colIndex).filter(hasValue(value)).length > 0;\n    };\n    MainController.prototype.otherOptionInRow = function (rowIndex, value) {\n        return this.getRow(rowIndex).filter(hasPossibility(value)).length > 1;\n    };\n    MainController.prototype.otherOptionInCol = function (colIndex, value) {\n        return this.getCol(colIndex).filter(hasPossibility(value)).length > 1;\n    };\n    MainController.prototype.otherOptionInBox = function (rowIndex, colIndex, value) {\n        return this.getBox(rowIndex, colIndex).filter(hasPossibility(value)).length > 1;\n    };\n    MainController.prototype.getPossibleValues = function (rowIndex, colIndex) {\n        var arr = [];\n        for (var i = 1; i <= TABLE_WIDTH; i++) {\n            if (!this.isInRow(rowIndex, i) &&\n                !this.isInCol(colIndex, i) &&\n                !this.isInBox(rowIndex, colIndex, i)) {\n                arr.push(i);\n            }\n        }\n        return arr;\n    };\n    MainController.prototype.otherOptionInTable = function (rowIndex, colIndex, value) {\n        return this.otherOptionInRow(rowIndex, value) &&\n            this.otherOptionInCol(colIndex, value) &&\n            this.otherOptionInBox(rowIndex, colIndex, value);\n    };\n    MainController.prototype.solveByOnlyPossibility = function () {\n        return this.someUnsolvedCell(function (cell, rowIndex, colIndex) {\n            if (cell.possibilities.length === 1) {\n                cell.value = cell.possibilities[0];\n                return true;\n            }\n        });\n    };\n    MainController.prototype.solveByNoOtherOptionInTable = function () {\n        var _this = this;\n        return this.someUnsolvedCell(function (cell, rowIndex, colIndex) {\n            var values = cell.possibilities.filter(function (value) {\n                return !_this.otherOptionInTable(rowIndex, colIndex, value);\n            });\n            if (values.length === 1) {\n                cell.value = values[0];\n                return true;\n            }\n        });\n    };\n    MainController.prototype.solve = function (generateCode) {\n        var _this = this;\n        if (generateCode) {\n            this.code = this.generateCode();\n        }\n        this.forEachUnsolvedCell(function (cell, rowIndex, colIndex) {\n            cell.possibilities = _this.getPossibleValues(rowIndex, colIndex);\n        });\n        if (this.solveByOnlyPossibility() || this.solveByNoOtherOptionInTable()) {\n            this.$timeout(function () { return _this.solve(); }, 10);\n        }\n        else if (this.getAll().filter(function (cell) { return !cell.value; }).length > 0) {\n            this.$timeout(function () { return alert('stuck!!!'); }, 0);\n        }\n        else {\n            this.$timeout(function () { return alert('done!!!'); }, 0);\n        }\n    };\n    return MainController;\n})();\nangular\n    .module('sodukuAppInternal')\n    .controller('MainController', MainController);\n\n\n"]}